---
name: "Linters"

on:
  pull_request:

jobs:
  terraform_format:
    runs-on: ubuntu-latest
    
    steps:
    - name: "Check out the repository"
      uses: actions/checkout@v3

    - name: Setup Terraform
      uses: hashicorp/setup-terraform@v2

    - name: "Run terraform fmt -check"
      run: "terraform fmt -check"

  commits_checks:
    runs-on: ubuntu-latest

    steps:
    - name: "Check out the repository"
      uses: actions/checkout@v3
      with:
        fetch-depth: 0 # Fetch all history for all tags and branches

    - name: "Check commit messages"
      uses: docker://aevea/commitsar
